"use strict";(()=>{(async function(){let t=new Array,c=new Array,b=new Array,f=await WebAssembly.compileStreaming(fetch("./client.wasm")),y=new WebAssembly.Memory({initial:256}),w=new TextDecoder,d=new Array,s=()=>new DataView(l.buffer),o=(e,n)=>w.decode(new DataView(l.buffer,e,n)),x=(e,n)=>new Uint8Array(l.buffer,e,n),h=new WebAssembly.Table({initial:2,element:"anyfunc"}),{exports:{memory:l,init:p}}=await WebAssembly.instantiate(f,{env:{memory:y,__indirect_function_table:h,requestAnimationFrame:e=>requestAnimationFrame(h.get(e)),_throwError(e,n){let r=o(e,n);throw new Error(r)}},wasi_snapshot_preview1:{fd_write(e,n,r,m){let u=0;for(let i=0;i<r;i++){let a=n+i*8,A=s().getUint32(a+0,!0),g=s().getUint32(a+4,!0);u+=g;for(let v=0;v<g;v++)d.push(s().getUint8(A+v));let _=w.decode(new Uint8Array(d));d.length=0,console.log(_)}return s().setUint32(m,u,!0),0},fd_close:()=>0,fd_fdstat_get:()=>0,fd_seek:()=>0,proc_exit(e){throw"Program terminated with exit("+e+")"},random_get(e,n){return crypto.getRandomValues(x(e,n)),0}},0:{0:(e,n)=>{let r=document.createElement("canvas");r.width=e,r.height=n;let m=r.getContext("2d");if(!m)throw new Error("Failed to get 2D context");let u=t.length;return t.push(m),u},1:(e,n)=>{let r=o(e,n),m=document.getElementById(r);if(!m)return-1;let u=m.getContext("2d");if(!u)throw new Error("Failed to get 2D context");return t.push(u),t.length-1},2:e=>{t[e].save()},3:e=>{t[e].restore()},4:(e,n,r)=>{t[e].translate(n,r)},5:(e,n,r)=>{t[e].scale(n,r)},6:(e,n)=>{t[e].rotate(n)},7:e=>{t[e].beginPath()},8:e=>{t[e].closePath()},9:(e,n,r)=>{t[e].moveTo(n,r)},10:(e,n,r)=>{t[e].lineTo(n,r)},11:(e,n,r)=>{t[e].font=o(n,r)},12:(e,n,r)=>{t[e].fillStyle=o(n,r)},13:(e,n,r,m,u)=>{t[e].fillText(o(n,r),m,u)},14:e=>{t[e].fill()},15:(e,n,r)=>{t[e].fill(b[n],r?"nonzero":"evenodd")},16:e=>{t[e].stroke()},17:(e,n)=>{t[e].stroke(b[n])},18:e=>{t[e].clip()},19:(e,n)=>{t[e].clip(b[n])},20:(e,n)=>{t[e].lineWidth=n},21:(e,n,r)=>{t[e].lineCap=o(n,r)},22:(e,n,r)=>{t[e].strokeStyle=o(n,r)},23:(e,n,r,m,u)=>{t[e].strokeText(o(n,r),m,u)},24:(e,n,r,m,u,i,a)=>{t[e].arc(n,r,m,u,i,a)},25:(e,n,r,m,u)=>{t[e].rect(n,r,m,u)},26:(e,n,r,m,u)=>{t[e].clearRect(n,r,m,u)},27:(e,n,r,m,u)=>{t[e].fillRect(n,r,m,u)},28:(e,n,r,m,u)=>{t[e].strokeRect(n,r,m,u)},29:(e,n,r)=>{t[e].textAlign=o(n,r)},30:(e,n,r)=>{t[e].textBaseline=o(n,r)},31:(e,n,r,m,u,i,a)=>{t[e].bezierCurveTo(n,r,m,u,i,a)},32:(e,n,r,m,u)=>{t[e].quadraticCurveTo(n,r,m,u)},33:e=>{let n=t[e],r=n.canvas;n.clearRect(0,0,r.width,r.height)},34:e=>{c.push(e),b[e]=null},35:()=>{let e=new Path2D;if(0<c.length){let n=c.pop();return b[n]=e,n}return b.push(e),b.length-1},36:(e,n,r)=>{b[e].moveTo(n,r)},37:(e,n,r)=>{b[e].lineTo(n,r)},38:(e,n,r,m,u)=>{b[e].quadraticCurveTo(n,r,m,u)},39:(e,n,r,m,u,i,a)=>{b[e].bezierCurveTo(n,r,m,u,i,a)},40:e=>{b[e].closePath()}}});p()})();})();
